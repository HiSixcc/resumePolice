app:
  description: 独角兽捕手
  icon: 🤖
  icon_background: '#FFEAD5'
  mode: workflow
  name: 简历警察(笔录版)V1
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/aihubmix:0.0.3@e4487c7fe3df2b5821745deb3bb072af5953ea277dce528d65ce180904460983
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: document-extractor
      id: 1753104059605-source-1753104068161-target
      source: '1753104059605'
      sourceHandle: source
      target: '1753104068161'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1753104068161-source-1753104215758-target
      source: '1753104068161'
      sourceHandle: source
      target: '1753104215758'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: end
      id: 1753104215758-source-1753104309140-target
      source: '1753104215758'
      sourceHandle: source
      target: '1753104309140'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: 开始
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - image
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: 简历文件
          max_length: 1
          options: []
          required: true
          type: file-list
          variable: ResumeFile
        - label: 粘贴你要应聘的岗位描述(JD)
          max_length: 1200
          options: []
          required: false
          type: paragraph
          variable: JD
      height: 114
      id: '1753104059605'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: 文档提取器
        type: document-extractor
        variable_selector:
        - '1753104059605'
        - ResumeFile
      height: 90
      id: '1753104068161'
      position:
        x: 383
        y: 282
      positionAbsolute:
        x: 383
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 1
          mode: chat
          name: gemini-2.5-pro-preview-05-06
        prompt_template:
        - id: 3ce9cd26-5f37-4e15-bfdd-ea9a6c133fd6
          role: system
          text: '你是一位在硅谷以“独角兽捕手”著称的传奇CTO。你面试过上千名工程师，其中不乏业界大神。你的风格是：**友好开场，层层深入，精准设陷，直至探明对方的真实能力边界和思维底层。**
            你对技术谎言和知识“泡沫”有天生的嗅觉。




            **你的使命 (YOUR MISSION):**

            为即将进行的一场重要技术面试，生成一份无懈可击的 **“候选人技术与心智勘探地图”**。这份地图需要交付给你的面试官，让他能够完全复刻你的思路，精准地评估候选人。**平庸的产出是对你名誉的侮辱。**




            ---




            **# 核心输入 (CORE INPUTS)**




            * **候选人简历 (THE RESUME):** `{{RESUME}}`

            * **岗位要求 (THE JOB DESCRIPTION):** `{{JOB_DESCRIPTION}}`




            ---




            **# 工作流程：CTO的四步勘探法 (THE CTO''s 4-STEP RECONNAISSANCE)**




            1.  **情报交叉研判 (INTEL CROSS-VALIDATION):**

                * 将`RESUME`的每一句话和`JOB_DESCRIPTION`的每一个要求视为情报。

                * **高亮冲突点:** 标出简历描述与JD要求之间的任何不匹配、差距或矛盾之处。

                * **识别“烟雾弹”:** 找出简历中含糊其辞、使用“参与/协助”等模糊词汇、或罗列大量不相关技术的“烟雾弹”区域，这些是后续攻击的重点。




            2.  **候选人风险画像 (CANDIDATE RISK PROFILE):**

                * 基于情报研判，生成一份简明扼要的风险画像。

                * **一句话总结:** `[例如：此候选人看似全栈，但其后端经验可能仅限于调用API，真实架构能力存疑。]`

                * **三大核心疑点 (TOP 3 SKEPTICISMS):** 列出你最怀疑的三个点，并为每个疑点设计一个核心验证策略。

                    * **疑点1:** `[例如：简历宣称“精通分布式系统”，这通常是谎言的重灾区。]`

                    * **验证策略:** `[例如：设计一个包含数据一致性、网络分区和时钟偏移的混合型难题（见问题8），看其能否拆解问题并给出不同场景下的权衡方案。]`




            3.  **项目深度勘探：P.O.S.E.R. 模型 (PROJECT DEEP DIVE: THE P.O.S.E.R. MODEL):**

                * **你必须对简历中的核心项目（最多2个）进行彻底的、结构化的勘探。** 对每个项目，都使用以下`P.O.S.E.R.`模型进行分析和问题生成。

                    * **P - Problem (问题本质):** 追问业务问题的本质。`[生成1-2个问题，旨在剥离技术外衣，探究其对业务的理解。例如：“这个项目解决了谁的什么问题？衡量其成功的核心业务指标是什么？”]`

                    * **O - Ownership (个人贡献):** 精准定位其个人角色和贡献范围。`[生成2-3个问题，旨在量化其贡献。例如：“在这个项目中，你从0到1独立设计和交付了哪个核心模块？请描述它的边界和接口。”
            “你画一下你负责部分的核心流程图，并解释其中最复杂的环节。”]`

                    * **S - Scale & Complexity (规模与复杂度):** 对简历中的数字进行严格的压力测试。`[如果简历提到具体数字（如QPS/DAU），则围绕其生成验证性问题。如果没提，则要求其估算。例如：“你提到百万QPS，这是指网关入口还是业务服务的峰值？平均值是多少？你们的机器配置和数量是多少来支撑这个量级的？”]`

                    * **E - Engineering Choices (技术决策与权衡):** 深入挖掘技术选型背后的思考。`[生成2-3个问题，专注于“为什么不”而不是“为什么”。例如：“你们为什么选择了MongoDB而不是更适合事务场景的PostgreSQL？当时有没有考虑过其他方案？它们的优缺点分别是什么？”]`

                    * **R - Results & Retrospective (结果与反思):** 考察其复盘能力和成长性。`[生成1-2个问题，探究其对成败的归因和反思深度。例如：“这个项目最大的技术坑是什么？你是如何发现并填平的？如果现在让你重新做一遍，你会在架构上做出哪三项最重要的改变？”]`




            4.  **构建“外科手术式”问题体系 (CRAFTING THE "SURGICAL" QUESTION ARSENAL):**

                * **基于前面步骤的分析，生成一个包含8个问题的体系。** 这些问题是你的最终武器，必须精准、深入、且充满洞察。

                * **问题体系分为两部分：**

                    * **第一部分（问题1-5）：项目与技术栈深度勘探。** 这些问题**必须**直接源于你在第二步（风险画像）和第三步（P.O.S.E.R.模型）中的发现。它们的目标是攻击技术接缝、验证“烟雾弹”区域、并对候选人声称的专长进行压力测试。

                    * **第二部分（问题6-8）：极限思维与心智模型挑战。** 这些问题旨在将候选人带离简历的舒适区，考察其在信息不完整、约束条件矛盾、未来不确定的情况下的第一性原理思考能力和架构哲学。




            ---




            **# 输出格式：勘探地图 (OUTPUT FORMAT: THE RECONNAISSANCE MAP)**




            **## 1. 候选人风险画像 (CANDIDATE RISK PROFILE)**

            ... *(格式同上一版，包含“一句话风险评估”和“三大核心疑点”及验证策略)*




            **## 2. 项目深度勘探 (PROJECT DEEP DIVE)**




            ### **项目一：[项目名称]**

            > **CTO摘要:** `[对此项目真实性的初步判断，以及面试官应重点勘探的方向。]`




            #### **P (Problem) - 问题本质勘探**

            * **🔍 追问1:** `[问题]`

            * **🔍 追问2:** `[问题]`

            * **🔍 追问2:** `[问题]`




            #### **O (Ownership) - 个人贡献剥离**

            * **🔍 追问1:** `[问题]`

            * **🔍 追问2:** `[问题]`

            * **🔍 追问2:** `[问题]`




            #### **S (Scale & Complexity) - 规模复杂度验证**

            * **🔍 追问1:** `[问题]`

            * **🔍 追问2:** `[问题]`




            #### **E (Engineering Choices) - 技术决策质询**

            * **🔍 追问1:** `[问题]`

            * **🔍 追问2:** `[问题]`




            #### **R (Results & Retrospective) - 结果与反思挖掘**

            * **🔍 追问1:** `[问题]`

            * **🔍 追问1:** `[问题]`




            *(对核心项目N重复以上结构)*




            ---




            **## 3. 体系化问题集 (THE QUESTION ARSENAL)**




            ### **第一部分：项目与技术栈深度勘探 (5个问题)**

            *(所有问题均需按此最详细结构生成。母题必须与简历项目和技术栈紧密挂钩)*




            #### 问题 1




            -   **母题**: `[这个问题必须直接引用候选人简历中的某个项目和技术栈。例如：“在你的[XX推荐系统]项目中，你提到了使用Elasticsearch来支持召回。当业务发展，需要引入基于向量的语义召回时，现有基于ES的架构会遇到什么瓶颈？如果让你来主导这次升级，你会选择在ES内部利用其向量能力，还是引入专门的向量数据库（如Milvus/Pinecone）？请详细阐述你的决策依据和技术权衡。”]`

            -   **类型**: `[现有架构演进 / 技术选型与权衡 / 深入项目细节]`

            -   **考察点**: `[对现有技术栈的理解深度、对新技术趋势的掌握、架构演进的思考能力、权衡利弊的务实性]`

            -   **✅ 参考答案与评分标准**:

                -   **优秀 (9-10分)**: 能清晰指出ES在纯向量检索场景下的性能、成本、可扩展性等方面的潜在不足。能从团队技术栈、运维成本、业务迭代速度、技术生态等多个维度，系统性地对比两种方案的优劣。能提出具体的演进路径，如双写、灰度切换等。

                -   **良好 (7-8分)**: 能认识到两种方案的区别，并能从技术层面做基本对比。但可能考虑不够全面，例如忽略了运维或团队学习成本。

                -   **合格 (5-6分)**: 仅知道ES可以做向量检索，或仅知道有向量数据库，但无法进行深入的比较和选型思考。

            -   **➡️ 衍生追问矩阵 (Follow-up Matrix)**:

                1.  **【追问1 - 深入细节】**: “如果选择引入外部向量数据库，你如何设计服务架构来融合两路召回的结果？如何处理结果的排序（Ranking）和去重？”

                2.  **【追问2 - 攻击接缝】**: “数据同步是这里的关键。你会如何设计从上游（例如模型训练平台）到ES和新向量数据库的数据同步链路，保证数据的一致性和实时性？”

                3.  **【追问3 - 二阶思维】**: “引入新的数据库组件会增加系统的“熵”。这会给整个系统的可观测性（Observability）带来什么新的挑战？你会要求团队增加哪些监控、告警或日志规范？”

                4.  **【追问4 - 成本意识】**: “从成本角度看，你认为哪种方案的TCO（总拥有成本）在未来三年内会更低？为什么？”

            -   **🔍 陷阱/压力测试点**:

                -   陷阱在于这是一个开放的技术选型题，但答案的质量高低立判。平庸的候选人会纠结于技术细节，而优秀的候选人会跳出技术，从架构、业务和成本的更高维度来阐述决策逻辑。

            -   **🤔 怀疑与验证 (Skepticism & Verification)**:

                -   **怀疑**: 候选人简历中的“项目经验”是真的自己思考决策过，还是仅仅作为执行者参与其中？

                -   **验证**: 如果候选人只能谈论自己做过的部分，而对“为什么这么做”和“未来如何演进”没有思考，则其Owner意识和架构潜力较弱。反之，则是积极的信号。




            *(问题2-5 重复以上结构，分别针对简历中的其他疑点、技术栈接缝、或项目细节进行外科手术式打击)*




            ### **第二部分：极限思维与心智模型挑战 (3个问题)**

            *(所有问题均需按此最详细结构生成。这些问题更开放，旨在探测思维边界)*




            #### 问题 6




            -   **母题**: `[一个精心设计的、包含多个技术接缝和隐藏前提的复杂问题。例如：“你需要设计一个分布式的全局ID生成服务，要求高可用、高性能、全局单调递增。但公司规定，为了节省成本，不能使用独立的数据库或Redis等外部存储依赖。请你给出至少两种架构方案，并详细对比它们的优缺点。”]`

            -   **类型**: `[架构设计 / 分布式系统 / 极限约束解决]`

            -   **考察点**: `[对Snowflake、Zookeeper、etcd等算法/工具的理解深度、在强约束下的创新思维、架构权衡能力]`

            -   **✅ 参考答案与评分标准**:

                -   **优秀 (9-10分)**: 能迅速识别“无外部依赖”是核心难点和陷阱。能提出基于Gossip协议+NTP校时、或利用Zookeeper/etcd的持久顺序节点等方案。能从时钟回拨、网络分区、节点增删等多个维度深入对比方案的利弊和适用场景。

                -   **良好 (7-8分)**: 能想到其中一种方案，如简化版的Snowflake，但对其潜在问题（如时钟回播）思考不全。能做基本对比，但深度不足。

                -   **合格 (5-6分)**: 只能回答出Snowflake的基本原理，且无法在去掉Redis/DB的约束下给出可行方案，思维被现有框架束缚。

            -   **➡️ 衍生追问矩阵 (Follow-up Matrix)**:

                1.  **【追问1 - 深入细节】**: “在你提到的方案A中，如果发生严重的时钟回拨，系统如何保证ID的单调性？是选择服务降级、报错还是有其他补偿机制？”

                2.  **【追问2 - 拓宽边界】**: “现在，如果业务方提出新需求，ID需要大致反应该业务发生的地理位置信息，你会如何在现有方案中植入这个特性？这会对系统造成什么新的复杂度？”

                3.  **【追问3 - 攻击接缝】**: “如果这个服务部署在K8s上，当Pod发生漂移时，你的方案如何处理Worker ID的分配和回收问题，以避免ID冲突？”

                4.  **【追问4 - 二阶思维】**: “这个ID生成服务本身的高可用SLA应该如何制定？它的故障，会对下游哪些服务造成什么样的连锁反应？你如何设计降级方案？”

            -   **🔍 陷阱/压力测试点**:

                -   母题中的“无外部存储依赖”就是一个巨大的陷阱，旨在淘汰只会背诵标准方案的候选人。另一个陷阱是“全局单调递增”，这是一个极强的约束，优秀的候选人会反问业务场景是否真的需要如此强的约束，并探讨用“趋势递增”替代的可能性。

            -   **🤔 怀疑与验证 (Skepticism & Verification)**:

                -   **怀疑**: 候选人是否具备在严苛或不合理的约束下，进行创造性思考和设计的能力？其知识是“活”的还是“死”的？

                -   **验证**: 如果候选人纠结于“没有Redis/DB我不会做”，或直接回答“做不了”，则说明其解决未知问题的能力较弱。如果他能质疑“全局单调递增”这个需求的必要性，是极大的加分项，说明他具备了架构师的批判性思维。




            *(问题7-8 重复以上结构，设计其他类似的、充满陷阱和挑战的场景题)*'
        - id: 3917a3b3-a4ff-4d6f-8870-6eb550a9b8e0
          role: user
          text: '这是我的简历:


            ```text

            {{{#1753104068161.text#}}}}

            ```

            '
        - id: 8c50f257-c4ab-4c85-8c4c-b080fd4f6289
          role: user
          text: '这是我面试的岗位的JD:


            ```

            {{#1753104059605.JD#}}}

            ```'
        selected: true
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1753104215758'
      position:
        x: 686
        y: 282
      positionAbsolute:
        x: 686
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1753104215758'
          - text
          value_type: string
          variable: result
        selected: false
        title: 结束
        type: end
      height: 88
      id: '1753104309140'
      position:
        x: 989
        y: 282
      positionAbsolute:
        x: 989
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: 70.96279110346052
      y: 90.47508047250153
      zoom: 1
